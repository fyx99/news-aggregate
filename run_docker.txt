docker build -t fxxy/news-aggregate . ; docker push fxxy/news-aggregate


# test
docker build --target test -t fxxy/news-aggregate-test . ; docker run --rm --env-file local.env -e LOG_LEVEL=INFO fxxy/news-aggregate-test; docker push fxxy/news-aggregate-test

docker build --target test -t fxxy/news-aggregate-test . ; docker run --rm --env-file drop.env -e LOG_LEVEL=INFO fxxy/news-aggregate-test;

# run ml local
docker build --target ml -t fxxy/news-aggregate-ml . ; docker run  -e TASK='FEED' --env-file local.env  fxxy/news-aggregate-ml

docker run --env-file local.env fxxy/news-aggregate
docker run -e TASK='FEED' --env-file local.env fxxy/news-aggregate
docker run -e TASK='FEED' --env-file /env/drop.env fxxy/news-aggregate



docker run -m 500m --memory-swap="2500m" -e TASK='FEED' --env-file /env/drop.env  fxxy/news-aggregate-ml




docker sbom fxxy/news-aggregate-ml

docker run  -e TASK='RSS'   --env-file local.env  fxxy/news-aggregate
docker run  -e TASK='REPROCESS_TEXT'   --env-file local.env  fxxy/news-aggregate



docker run --network="host" --restart=always --name postgres -e POSTGRES_PASSWORD=u3fph3ßü98fg43f34f3 -d postgres:14.1-alpine

docker run -d --restart=always --hostname rabbit --name rabbitmq -e RABBITMQ_DEFAULT_USER=dog -e RABBITMQ_DEFAULT_PASS="20849hfibfcn82..SADFC" -p 5672:5672 -p 15672:15672 rabbitmq:3.10.0-rc.4-management


# old
docker build --target ml -t fxxy/news-aggregate-ml . ; docker push fxxy/news-aggregate-ml



docker build --target srv -t fxxy/news-aggregate-srv . 
docker push fxxy/news-aggregate-srv
docker run --env-file local.env -p 8000:8000 fxxy/news-aggregate-srv
docker pull fxxy/news-aggregate-srv
docker run -d --name newsrecommend --env-file /env/drop.env -p 8000:8000 fxxy/news-aggregate-srv


k6 run -i 5 /newsaggregate/test/k6.js   

k6 run --duration 30s --vus 30 /newsaggregate/test/k6.js   
k6 run --out csv=C:/Github/Jupyter_Env/k6_result.csv --duration 50s --vus 30 /newsaggregate/test/k6.js   